// Square inheritance of a Rectangle object
class Rectangle {

    protected width:Int = uninit
    protected height:Int = uninit

    // Constructors are automated

    // Setters
    public final method setWidth(in w:Int) => Void { set width = w }
    public final method setHeight(in h:Int) => Void { set height = h }

    // Getters
    public final method getWidth() => Int { return width }
    public final method getHeight() => Int { return height }

    // Main Methods
    public final method calcPerim() => Int { return (2*width) + (2*height) }
    public final method calcArea() => Int { return width*height }
    public final method printDims() => Void {
        cout << 'Width = ' << width
        cout << 'Height = ' << height
    }
}

final class Square inherits Rectangle {
    // Setters
    public final method setSide(in s:Int) => Void { 
        setWidth(s)
        setHeight(s) 
    }
}

def main => Void {
    def myRectangle:Rectangle = new Rectangle(width=0, height=0)
    def mySquare:Square = new Square(width=0, height=0)

    myRectangle.setWidth(5)
    myRectangle.setHeight(4)

    cout << 'Dimensions of myRectangle = \n' << myRectangle.printDims()
    cout << 'Perimeter of myRectangle = ' << myRectangle.calcPerim()
    cout << 'Area of myRectangle = ' << myRectangle.calcArea()

    mySquare.setSide(4)

    cout << 'Dimensions of mySquare = \n' << mySquare.printDims()
    cout << 'Perimeter of mySquare = ' << mySquare.calcPerim()
    cout << 'Area of mySquare = ' << mySquare.calcArea()
}